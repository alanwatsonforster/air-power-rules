

\newenvironment{combinedarcfigure}{
    \newcommand{\xmax}{40}
    \newcommand{\ymax}{20}
    \newcommand{\ymin}{-\ymax}
    \begin{scope}[scale=0.4]
        \foreach \x in {0,...,\xmax} {
            \draw (\x, \ymin-0.5) node [anchor=north] {$\x$};
            \draw (\x, \ymax+0.5) node [anchor=south] {$\x$};
        }
        \foreach \y in {\ymin,...,-1} {
            \draw (-0.5, \y) node [anchor=east] {\wbox[r]{$+00$}{$\y$}};
            \draw (\xmax+0.5, \y) node [anchor=west] {\wbox[r]{$+00$}{$\y$}};
        }
        \foreach \y in {0,...,0} {
            \draw (-0.5, \y) node [anchor=east] {\wbox[r]{$+00$}{$\y$}};
            \draw (\xmax+0.5, \y) node [anchor=west] {\wbox[r]{$+00$}{$\y$}};
        }
        \foreach \y in {1,...,\ymax} {
            \draw (-0.5, \y) node [anchor=east] {\wbox[r]{$+00$}{$+\y$}};
            \draw (\xmax+0.5, \y) node [anchor=west] {\wbox[r]{$+00$}{$+\y$}};
        }
        \draw (0.5*\xmax,\ymax+2.0) node [anchor=south] {\small Horizontal Range};
        \draw (0.5*\xmax,\ymin-2.0) node [anchor=north] {\small Horizontal Range};
        \draw (-3.0,0) node [anchor=south,rotate=90] {\small Altitude Difference};
        \draw (\xmax+3.0,0) node [anchor=north,rotate=90] {\small Altitude Difference};
        \clip (-0.2,\ymin-0.2) -- (-0.2,\ymax+0.2) -- (\xmax+0.2,\ymax+0.2) -- (\xmax+0.2,\ymin-0.2) -- cycle;
}{
        \draw (0,0) [color=white,fill=white] circle (0.3);
        \foreach \x in {0,...,\xmax} {
           \foreach \y in {\ymin,...,\ymax} {
              \draw [fill,color=black] (\x,\y) circle (0.05);
           }
        }
        \begin{scope}[shift={(\xmax-8.5,0)}]
            \draw (-0.7,+5.2) [fill=white] rectangle (+6.7,-5.2);
            \draw [very thick,color=Tpurple](0,+4) -- (1,+4) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$\mbox{FS}$} = +\infty$};
            \draw [very thick,color=Tred   ](0,+3) -- (1,+3) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$+3 < \mbox{FS}$} < +\infty$};
            \draw [very thick,color=Tgreen ](0,+2) -- (1,+2) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$+1 < \mbox{FS}$} \le +3$};
            \draw [very thick,color=Torange](0,+1) -- (1,+1) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$0 < \mbox{FS}$} \le +1$};
            \draw [very thick,color=Tblue  ](0,+0) -- (1,+0) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$\mbox{FS}$} = 0$};
            \draw [very thick,color=Tbrown ](0,-1) -- (1,-1) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$0 > \mbox{FS}$} \ge -1$};
            \draw [very thick,color=Tpink  ](0,-2) -- (1,-2) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$-1 > \mbox{FS}$} \ge -3$};
            \draw [very thick,color=Tolive ](0,-3) -- (1,-3) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$-3 > \mbox{FS}$} > -\infty$};
            \draw [very thick,color=Tcyan  ](0,-4) -- (1,-4) node [color=black,anchor=west] {$\wbox[r]{$+0 < \mbox{FS}$}{$\mbox{FS}$} = -\infty$};
        \end{scope}
    \end{scope}
}

\newcommand{\lowerlimit}[5]{
    \draw [#1,color=#2,very thick] (#4,#5) -- (2*\xmax+#4,(2*\xmax*#3+#5);
}
\newcommand{\upperlimit}[5]{
    \draw [#1,color=#2,very thick] (#4,#5) -- (2*\xmax+#4,(2*\xmax*#3+#5);
}

\newcommand{\combinedarcnote}{
    \begin{tablenote}{0.9\textwidth}\footnotesize
        \begin{itemize}
            \item Find the lines with the colors corresponding to the flight slope.
            \item For two solid lines: must be between the solid lines and within the horizontal arc.
            \item For one solid line: must be above/below line and within the horizontal arc.
            \item For one solid line and one dashed line: must be above/below solid line and within the horizontal arc or must be above/below dashed line.
            \item For one dashed line: must be above/below dashed line.
            \item Select above/below according to whether the flight slope is positive/negative.
        \end{itemize}
    \end{tablenote}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{twocolumnfigure}

\begin{tikzpicture}
\begin{combinedarcfigure}

\lowerlimit{dashed}{Tpurple}{+7}{+0.07}{-0.07}

\lowerlimit{solid}{Tred}{+3}{+0.07}{-0.07}

\lowerlimit{solid}{Tgreen}{+1}{+0.07}{-0.07}
\upperlimit{solid}{Tgreen}{+3}{-0.07}{+0.07}

\lowerlimit{solid}{Torange}{-0}{-0.07}{-0.15}
\upperlimit{solid}{Torange}{+1}{-0.07}{+0.07}

\upperlimit{solid}{Tblue}{+0.5}{-0.07}{+0.07}
\lowerlimit{solid}{Tblue}{-0.5}{-0.07}{-0.07}

\upperlimit{solid}{Tbrown}{+0}{+0.07}{+0.15}
\lowerlimit{solid}{Tbrown}{-1}{-0.07}{-0.07}

\upperlimit{solid}{Tpink}{-1}{+0.07}{+0.07}
\lowerlimit{solid}{Tpink}{-3}{-0.07}{-0.07}

\upperlimit{solid}{Tolive}{-3}{+0.07}{+0.07}

\upperlimit{dashed}{Tcyan}{-7}{+0.07}{+0.07}

\end{combinedarcfigure}
\end{tikzpicture}
\combinedarcnote

\figurecaption{figure:combined-arcs-a}{Combined arc vertical limits for the limited arc.}

\end{twocolumnfigure}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{twocolumnfigure}

\begin{tikzpicture}
\begin{combinedarcfigure}

\lowerlimit{dashed}{Tpurple}{+3}{+0.07}{-0.07}

\lowerlimit{solid}{Tred}{+2}{+0.07}{-0.07}
\lowerlimit{dashed}{Tred}{+7}{+0.07}{-0.07}

\lowerlimit{solid}{Tgreen}{+0.5}{+0.07}{-0.07}
\upperlimit{solid}{Tgreen}{+7}{-0.07}{+0.07}

\lowerlimit{solid}{Torange}{-0.5}{-0.07}{-0.07}
\upperlimit{solid}{Torange}{+2}{-0.07}{+0.07}

\upperlimit{solid}{Tblue}{+1}{-0.07}{+0.07}
\lowerlimit{solid}{Tblue}{-1}{-0.07}{-0.07}

\upperlimit{solid}{Tbrown}{+0.5}{-0.07}{+0.07}
\lowerlimit{solid}{Tbrown}{-2}{-0.07}{-0.07}

\upperlimit{solid}{Tpink}{-0.5}{+0.07}{+0.07}
\lowerlimit{solid}{Tpink}{-7}{-0.07}{-0.07}

\upperlimit{solid}{Tolive}{-2}{+0.07}{+0.07}
\upperlimit{dashed}{Tolive}{-7}{+0.07}{+0.07}

\upperlimit{dashed}{Tcyan}{-3}{+0.07}{+0.07}

\end{combinedarcfigure}
\end{tikzpicture}
\combinedarcnote

\figurecaption{figure:combined-arcs-b}{Combined arc vertical limits for the \arcrange{180}{+} arc.}

\end{twocolumnfigure}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{twocolumnfigure}

\begin{tikzpicture}
\begin{combinedarcfigure}

\lowerlimit{dashed}{Tpurple}{+2}{+0.07}{-0.07}

\lowerlimit{solid}{Tred}{+1}{+0.07}{-0.07}
\lowerlimit{dashed}{Tred}{+3}{+0.07}{-0.07}

\lowerlimit{solid}{Tgreen}{+0.0}{+0.07}{-0.15}

\lowerlimit{solid}{Torange}{-1}{-0.07}{-0.07}
\upperlimit{solid}{Torange}{+3}{-0.07}{+0.07}

\upperlimit{solid}{Tblue}{+2}{-0.07}{+0.07}
\lowerlimit{solid}{Tblue}{-2}{-0.07}{-0.07}

\upperlimit{solid}{Tbrown}{+1}{-0.07}{+0.07}
\lowerlimit{solid}{Tbrown}{-3}{-0.07}{-0.07}

\upperlimit{solid}{Tpink}{-0.0}{+0.07}{+0.15}

\upperlimit{solid}{Tolive}{-1}{+0.07}{+0.07}
\upperlimit{dashed}{Tolive}{-3}{+0.07}{+0.07}

\upperlimit{dashed}{Tcyan}{-2}{+0.07}{+0.07}

\end{combinedarcfigure}
\end{tikzpicture}
\combinedarcnote

\figurecaption{figure:combined-arcs-c}{Combined arc vertical limits for the \arcrange{150}{+} arc.}

\end{twocolumnfigure}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{twocolumnfigure}

\begin{tikzpicture}
\begin{combinedarcfigure}

\lowerlimit{dashed}{Tpurple}{+1}{+0.07}{-0.07}

\lowerlimit{solid}{Tred}{+0.5}{+0.07}{-0.07}
\lowerlimit{dashed}{Tred}{+2}{+0.07}{-0.07}

\lowerlimit{solid}{Tgreen}{-0.5}{-0.07}{-0.07}
\lowerlimit{dashed}{Tgreen}{+7}{+0.07}{-0.07}

\lowerlimit{solid}{Torange}{-2}{-0.07}{-0.07}
\lowerlimit{solid}{Torange}{+7}{-0.07}{+0.07}

\upperlimit{solid}{Tblue}{+3}{-0.07}{+0.07}
\lowerlimit{solid}{Tblue}{-3}{-0.07}{-0.07}

\upperlimit{solid}{Tbrown}{+2}{-0.07}{+0.07}
\lowerlimit{solid}{Tbrown}{-7}{-0.07}{-0.07}

\upperlimit{solid}{Tpink}{+0.5}{-0.07}{+0.07}
\upperlimit{dashed}{Tpink}{-7}{+0.07}{+0.07}

\upperlimit{solid}{Tolive}{-0.5}{+0.07}{+0.07}
\upperlimit{dashed}{Tolive}{-2}{+0.07}{+0.07}

\upperlimit{dashed}{Tcyan}{-1}{+0.07}{+0.07}

\end{combinedarcfigure}
\end{tikzpicture}
\combinedarcnote

\figurecaption{figure:combined-arcs-d}{Combined arc vertical limits for the \arcrange{120}{+} arc.}

\end{twocolumnfigure}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

